##### Swarm: 서비스 이름, 상태, 포트 등 조회 #####

**1) Manager Node: 조회를 위한 여러 서비스 생성**
다양한 서비스를 조회하기 위해 Nginx 서비스를 생성합니다.

```bash
docker service create --name web-server --replicas 2 --publish 8090:80 nginx
```

```tech
docker, swarm
```

```desc
#### 🚀 조회용 샘플 서비스 생성 (Nginx)
`docker service ls` 명령어의 다양한 옵션을 테스트하기 위해 Nginx 웹서버 서비스를 생성합니다.

- **`--name web-server`**: 서비스의 역할을 나타내는 이름
- **`--replicas 2`**: 2개의 복제본으로 실행

> 💡 여러 종류의 서비스를 만들어두면 `ls` 명령어의 필터링 및 포맷팅 기능을 테스트하기 좋습니다.
```

**2) Manager Node: 조회를 위한 여러 서비스 생성**
다양한 서비스를 조회하기 위해 Redis 서비스를 생성합니다.

```bash
docker service create --name db-server --replicas 1 redis:alpine
```

```tech
docker, swarm
```

```desc
#### 🚀 조회용 샘플 서비스 생성 (Redis)
조회 테스트를 위해 또 다른 종류의 서비스인 Redis 데이터베이스 서비스를 생성합니다.

- **`--name db-server`**: 서���스의 역할을 나타내는 이름
- **`redis:alpine`**: 가벼운 알파인 리눅스 기반의 Redis 이미지 사용

> 💡 이처럼 Swarm 클러스터 내에는 다양한 종류의 서비스가 공존할 수 있습니다.
```

**3) Manager Node: 현재 실행 중인 모든 서비스 목록 기본 조회**
`docker service ls` 명령어를 사용하여 현재 Swarm 클러스터에서 실행 중인 모든 서비스의 기본 정보(ID, 이름, 모드, 복제본 수, 이미지, 포트)를 확인합니다.

```bash
docker service ls
```

```tech
docker, swarm
```

```desc
#### 📋 모든 서비스 목록 기본 조회
`docker service ls`를 사용하여 현재 클러스터에서 실행 중인 모든 서비스의 요약 정보를 확인합니다.

- **`ID`, `NAME`, `MODE`, `REPLICAS`, `IMAGE`, `PORTS`**: 기본적으로 표시되는 정보 컬럼들

> 💡 클러스터에 어떤 서비스들이 배포되어 있는지 한눈에 파악할 때 가장 기본적으로 사용하는 명령어입니다.
```

**4) Manager Node: `--format`으로 출력 양식 지정하여 조회**
`--format` 옵션을 사용하여 원하는 정보만 골라 테이블 형태로 깔끔하게 출력할 수 있습니다. 서비스의 ID, 이름, 복제본 상태, 포트 정보만 표시하는 예시입니다.

```bash
docker service ls --format "table {{.ID}} {{.Name}} {{.Replicas}} {{.Ports}}"
```

```tech
docker, swarm
```

```desc
#### 📊 원하는 정보만 골라보기
`--format` 옵션을 사용하면 `ls` 명령어의 출력 형식을 내 마음대로 지정할 수 있습니다.

- **`--format "table ..."`**: 결과를 테이블 형식으로 출력
- **`{{.ID}}`, `{{.Name}}`, ...**: 표시하고 싶은 정보의 종류를 지정

> 💡 불필요한 정보는 빼고, 내가 보고 싶은 내용만 깔끔하게 정리해서 볼 수 있어 매우 유용합니다.
```

**5) Manager Node: `--filter`로 특정 서비스만 필터링하여 조회**
`--filter` 옵션을 사용하여 이름이 `web`으로 시작하는 서비스만 필터링하여 조회할 수 있습니다.

```bash
docker service ls --filter name=web
```

```tech
docker, swarm
```

```desc
#### 🔍 특정 서비스만 필터링
`--filter` 옵션을 사용하면 수많은 서비스 중에서 원하는 조건에 맞는 서비스만 골라낼 수 있습니다.

- **`--filter name=web`**: 이름(name)에 `web`이라는 단어가 포함된 서비스만 필터링

> 💡 서비스가 많아졌을 때, 특정 레이블이나 이름으로 원하는 서비스를 빠르게 찾아내는 데 필수적인 기능입니다.
```