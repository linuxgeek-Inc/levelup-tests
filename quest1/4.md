##### 웹서버 404 에러 로그만 확인할 수 있나요?#####(guest open)

**1) Nginx 웹서버 설치**

```bash
sudo dnf install -y nginx
```

```tech
nginx
```

```desc
#### 📦 Nginx 웹서버 설치하기
`dnf` 패키지 매니저를 사용해 Nginx 웹서버를 설치합니다.

- **`sudo`**: 관리자 권한으로 명령어 실행
- **`dnf install`**: dnf를 이용해 패키지를 설치
- **`-y`**: 설치 과정에서 묻는 모든 질문에 자동으로 'yes'로 답함
- **`nginx`**: 설치할 패키지 이름

> 💡 `dnf`는 Red Hat 계열 리눅스(Fedora, CentOS, RHEL 등)에서 사용되는 최신 패키지 관리 도구입니다.
```

**2) Nginx 웹서버 실행**

```bash
sudo service nginx start
```

```tech
nginx
```

```desc
#### ▶️ Nginx 웹서버 실행하기
`service` 명령어를 사용하여 Nginx 서비스를 시작합니다.

- **`sudo`**: 관리자 권한으로 명령어 실행
- **`service nginx start`**: Nginx 서비스를 시작

> 💡 `systemctl start nginx` 와 동일한 기능을 하지만, `service`는 오래된 시스템에서도 호환됩니다.
```

**3) Nginx 기본페이지 접속 확인**

```bash
curl http://localhost
```

```no-err-check
```

```tech
nginx
```

```desc
#### 📄 Nginx 기본 페이지 확인하기
`curl` 명령어로 Nginx가 제공하는 기본 웹 페이지 내용을 확인합니다.

- **`curl`**: URL을 통해 데이터를 전송받거나 보내는 명령어
- **`http://localhost`**: 현재 내 컴퓨터(서버)의 웹서버 주소

> 💡 `localhost`는 자기 자신을 가리키는 특별한 주소입니다. 웹 브라우저에서 접속해도 같은 결과를 볼 수 있습니다.
```

**4) 웹서버 정상접속(200) 로그 확인**

```bash
sudo cat /var/log/nginx/access.log
```

```tech
nginx,cat
```

```desc
#### 📜 웹서버 접속 로그 확인하기
`cat` 명령어로 Nginx의 접속 기록(`access.log`)을 확인합니다.

- **`sudo`**: 관리자 권한으로 파일 읽기
- **`cat`**: 파일 내용 전체 출력
- **`/var/log/nginx/access.log`**: Nginx 접속 로그 파일 경로

> 💡 이 로그에는 누가, 언제, 어떤 페이지에 접속했는지 등의 정보가 기록됩니다.
```

**5) 존재하지 않는 URL 경로 접속 시도 (404)**

```bash
curl http://localhost/test
```

```tech
nginx,curl
```
```no-err-check
```

```desc
#### ❓ 존재하지 않는 페이지 접속 (404 에러 유발)
`curl`을 이용해 일부러 없는 페이지에 접속하여 404 Not Found 에러를 발생시킵니다.

- **`http://localhost/test`**: `/test`는 존재하지 않는 경로

> 💡 이렇게 존재하지 않는 페이지에 접속하면 Nginx는 "404 Not Found" 상태 코드를 로그에 남깁니다.
```

**6) 존재하지 않는 URL 경로 접속 시도 (404)**

```bash
curl http://localhost/test1
```
```no-err-check
```

```tech
nginx,curl
```

```desc
#### ❓ 존재하지 않는 페이지 접속 (404 에러 유발)
다른 존재하지 않는 페이지에 접속하여 404 에러 로그를 추가로 생성합니다.

- **`http://localhost/test1`**: `/test1` 역시 없는 경로

> 💡 로그 필터링을 테스트하기 위해 여러 종류의 로그를 만들어보는 과정입니다.
```

**7) 존재하지 않는 URL 경로 접속 시도 (404)**

```bash
curl http://localhost/test2
```
```no-err-check
```

```tech
nginx,curl
```

```desc
#### ❓ 존재하지 않는 페이지 접속 (404 에러 유발)
세 번째로 존재하지 않는 페이지에 접속하여 404 에러 로그를 만듭니다.

- **`http://localhost/test2`**: `/test2` 또한 없는 경로

> 💡 이제 `access.log`에는 정상 접속(200) 로그와 404 에러 로그가 섞여있게 됩니다.
```

**8) 웹서버 접속 로그 확인**

```bash
sudo cat /var/log/nginx/access.log
```

```tech
nginx,cat
```

```desc
#### 📜 전체 접속 로그 다시 확인하기
`cat`으로 `access.log`를 다시 확인하여 정상(200) 로그와 방금 만든 404 에러 로그가 모두 기록되었는지 봅니다.

- 정상 접속과 404 접속 기록이 시간 순서대로 쌓여있음

> 💡 이제 이 로그들 중에서 원하는 정보만 골라내는 방법을 알아볼 차례입니다.
```

**9) 404 URL만 추출하기**

```bash
sudo grep ' 404 ' /var/log/nginx/access.log | awk '{print $7}'
```

```tech
nginx,awk,grep
```

```desc
#### 🔍 404 에러 로그만 골라내기
`grep`과 `awk`를 조합하여 404 에러가 발생한 로그에서 접속 URL만 추출합니다.

- **`grep ' 404 '`**: 로그 라인 중 " 404 " 문자열이 포함된 라인만 필터링
- **`|` (파이프)**: `grep`의 결과를 `awk`의 입력으로 전달
- **`awk '{print $7}'`**: 각 라인을 공백으로 나누어 7번째 필드(URL)만 출력

> 💡 이처럼 여러 명령어를 조합하면 복잡한 텍스트 데이터도 쉽게 가공할 수 있습니다.
```
