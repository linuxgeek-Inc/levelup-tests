##### DNS λ¬Έμ  μ–΄λ–»κ² μ§„λ‹¨ν•λ‚μ” ? #####

**1) DNS μ§„λ‹¨ λ„κµ¬ μ„¤μΉ**

```bash
sudo dnf install -y bind-utils
```

```tech
sudo,dnf,install,bind-utils,bash,rocky
```

```desc
#### π“¦ DNS μ§„λ‹¨ λ„κµ¬ μ„¤μΉ
`sudo dnf install -y bind-utils`λ” `dig`, `nslookup` λ“± DNS κ΄€λ ¨ λ¬Έμ λ¥Ό μ§„λ‹¨ν•λ” λ° ν•„μμ μΈ λ„κµ¬λ“¤μ΄ ν¬ν•¨λ `bind-utils` ν¨ν‚¤μ§€λ¥Ό μ„¤μΉν•©λ‹λ‹¤.

- **sudo**: κ΄€λ¦¬μ κ¶ν•μΌλ΅ μ‹¤ν–‰ν•©λ‹λ‹¤.
- **dnf install -y**: Rocky Linuxμ—μ„ ν¨ν‚¤μ§€λ¥Ό μ„¤μΉν•λ©°, λ¨λ“  ν™•μΈ ν”„λ΅¬ν”„νΈμ— μλ™μΌλ΅ 'yes'λ΅ λ‹µν•©λ‹λ‹¤.

> π’΅ `dig`λ‚ `nslookup` λ…λ Ήμ–΄κ°€ μ—†λ‹¤λ©΄ κ°€μ¥ λ¨Όμ € μ΄ ν¨ν‚¤μ§€λ¥Ό μ„¤μΉν•΄μ•Ό ν•©λ‹λ‹¤.
```

**2) www.google.com IP μ£Όμ† λ³€μμ— μ €μ¥**

```bash
GOOGLE_IP=$(dig +short www.google.com | grep -E '^[0-9]+\.' | head -n 1)
```

```tech
dig,grep,head,bash,rocky
```

```desc
#### π“ IP μ£Όμ† λ³€μμ— μ €μ¥
`dig` λ…λ Ήμ–΄λ΅ `www.google.com`μ IP μ£Όμ†λ¥Ό μ΅°νν•μ—¬ `GOOGLE_IP`λΌλ” μ…Έ λ³€μμ— μ €μ¥ν•©λ‹λ‹¤. μ΄ λ³€μλ” λ‚μ¤‘μ— DNSκ°€ λ™μ‘ν•μ§€ μ•λ” μƒν™©μ—μ„ μ§μ ‘ IPλ΅ μ ‘μ†μ„ ν…μ¤νΈν•  λ• μ‚¬μ©λ©λ‹λ‹¤.

- **dig +short**: λ„λ©”μΈμ— λ€ν• IP μ£Όμ†λ§ κ°„κ²°ν•κ² μ¶λ ¥ν•©λ‹λ‹¤.
- **grep, head**: μ—¬λ¬ IP μ¤‘ μ²« λ²μ§Έ μ ν¨ν• IP μ£Όμ†λ§ ν•„ν„°λ§ν•©λ‹λ‹¤.

> π’΅ μ •μƒ μƒνƒμ IP μ£Όμ†λ¥Ό λ―Έλ¦¬ λ³€μμ— μ €μ¥ν•΄λ‘λ©΄, λ¬Έμ  λ°μƒ μ‹ μ›μΈ λ¶„μ„μ— μ μ©ν•κ² μ‚¬μ©ν•  μ μμµλ‹λ‹¤.
```

**3) www.google.com IP μ£Όμ† ν™•μΈ**

```bash
dig +short www.google.com
```

```tech
dig,bash,rocky
```

```desc
#### π λ„λ©”μΈ IP μ£Όμ† ν™•μΈ
`dig +short www.google.com` λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•μ—¬ ν„μ¬ μ‹μ¤ν…μ DNS μ„¤μ •μ΄ μ •μƒμ μΌλ΅ λ™μ‘ν•μ—¬ `www.google.com`μ IP μ£Όμ†λ¥Ό μ κ°€μ Έμ¤λ”μ§€ ν™•μΈν•©λ‹λ‹¤.

- **μ •μƒ ν™•μΈ**: μ΄ λ‹¨κ³„μ—μ„ IP μ£Όμ†κ°€ μ¶λ ¥λλ©΄, ν„μ¬ DNS μ„¤μ •μ€ μ •μƒμ…λ‹λ‹¤.

> π’΅ DNS λ¬Έμ  ν•΄κ²°μ μ²« λ‹¨κ³„λ” `dig`λ‚ `nslookup`μΌλ΅ λ„λ©”μΈ μ΅°νκ°€ λλ”μ§€ ν™•μΈν•λ” κ²ƒμ…λ‹λ‹¤.
```

**4) μ •μƒμ μΈ HTTP μ—°κ²° ν™•μΈ**

```bash
curl -I www.google.com
```

```tech
curl,bash,rocky
```

```desc
#### β… HTTP μ—°κ²° ν…μ¤νΈ
`curl -I www.google.com` λ…λ Ήμ–΄λ΅ `www.google.com` μ„λ²„μ™€ μ •μƒμ μΌλ΅ ν†µμ‹ μ΄ λλ”μ§€ ν™•μΈν•©λ‹λ‹¤. μ΄ λ…λ Ήμ΄ μ„±κ³µν•λ ¤λ©΄ DNS μ΅°νκ°€ μ„ ν–‰λμ–΄μ•Ό ν•©λ‹λ‹¤.

- **HTTP/2 200**: μ„±κ³µμ μΌλ΅ μ—°κ²°λλ©΄ μƒνƒ μ½”λ“ 200μ„ ν¬ν•¨ν• ν—¤λ” μ •λ³΄κ°€ μ¶λ ¥λ©λ‹λ‹¤.

> π’΅ DNSκ°€ μ •μƒμ΄λ”λΌλ„ λ°©ν™”λ²½ λ“±μ λ‹¤λ¥Έ λ¬Έμ λ΅ ν†µμ‹ μ΄ μ• λ  μ μμΌλ―€λ΅, μ‹¤μ  μ„λΉ„μ¤(HTTP λ“±)λ΅ μ—°κ²°μ„ ν™•μΈν•λ” κ²ƒμ΄ μΆ‹μµλ‹λ‹¤.
```

**5) DNS μ„¤μ • νμΌ κ°•μ  μ΄κΈ°ν™”**

* μ°Έκ³ : μλ„μ μΌλ΅ `DNS λ¬Έμ  μƒν™© μ¬ν„`

```bash
sudo bash -c "echo > /etc/resolv.conf"
```

```tech
sudo,bash,echo,bash,rocky
```

```desc
#### π’£ DNS μ„¤μ • νμΌ κ°•μ  μ΄κΈ°ν™”
`sudo bash -c "echo > /etc/resolv.conf"`λ” μ‹μ¤ν…μ DNS μ„λ²„ μ„¤μ • νμΌμΈ `/etc/resolv.conf`μ λ‚΄μ©μ„ κ°•μ λ΅ λΉ„μ›λ²„λ¦½λ‹λ‹¤. μ΄λ΅μ¨ μ‹μ¤ν…μ€ DNS μ„λ²„λ¥Ό μ°Ύμ§€ λ»ν•΄ λ„λ©”μΈ μ΄λ¦„ ν•΄μ„μ„ ν•  μ μ—†κ² λ©λ‹λ‹¤.

- **sudo bash -c "..."**: κ΄€λ¦¬μ κ¶ν•μΌλ΅ νμΌμ— μ“°λ” μ‘μ—…μ„ ν•κΈ° μ„ν•΄ μ‚¬μ©ν•©λ‹λ‹¤.
- **> /etc/resolv.conf**: νμΌμ λ‚΄μ©μ„ λ®μ–΄μ”λ‹λ‹¤.

> π’΅ DNS μ¥μ•  μƒν™©μ„ μΈμ„μ μΌλ΅ λ§λ“¤μ–΄ λ¬Έμ  ν•΄κ²° κ³Όμ •μ„ μ—°μµν•κΈ° μ„ν• λ‹¨κ³„μ…λ‹λ‹¤.
```

**6) λ„λ©”μΈ μ΄λ¦„μΌλ΅ μ—°κ²° μ‹¤ν¨β ν™•μΈ**

```bash
curl -I www.google.com
```

```tech
curl,bash,rocky
```

```desc
#### β μ—°κ²° μ‹¤ν¨ ν™•μΈ
`/etc/resolv.conf` νμΌμ΄ λΉ„μ›μ§„ μƒνƒμ—μ„ λ‹¤μ‹ `curl` λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•λ©΄, `Could not resolve host`μ™€ κ°™μ€ μ¤λ¥κ°€ λ°μƒν•λ©° μ—°κ²°μ— μ‹¤ν¨ν•©λ‹λ‹¤.

- **μ›μΈ**: μ‹μ¤ν…μ΄ `www.google.com`μ΄λΌλ” λ„λ©”μΈ μ΄λ¦„μ„ IP μ£Όμ†λ΅ λ³€ν™ν•  λ°©λ²•μ„ λ¨λ¥΄κΈ° λ•λ¬Έμ…λ‹λ‹¤.

> π’΅ "Could not resolve host" μ¤λ¥λ” DNS λ¬Έμ μΌ κ°€λ¥μ„±μ΄ λ§¤μ° λ†’λ‹¤λ” κ°•λ ¥ν• μ‹ νΈμ…λ‹λ‹¤.
```

**7) μ €μ¥λ IP μ£Όμ† ν™•μΈ**

```bash
echo $GOOGLE_IP
```

```tech
echo,bash,rocky
```

```desc
#### π“ λ³€μ κ°’ ν™•μΈ
`echo $GOOGLE_IP` λ…λ Ήμ–΄λ΅ μ΄μ „μ— μ €μ¥ν•΄ λ‘” Google IP μ£Όμ†κ°€ μ…Έ λ³€μμ— μ—¬μ „ν λ‚¨μ•„μλ”μ§€ ν™•μΈν•©λ‹λ‹¤.

- **μ…Έ λ³€μ**: μ‹μ¤ν… DNS μ„¤μ •κ³Ό λ¬΄κ΄€ν•κ² μ…Έ μ„Έμ… λ™μ• κ°’μ„ μ μ§€ν•©λ‹λ‹¤.

> π’΅ μ‹μ¤ν… μ„¤μ •μ΄ λ³€κ²½λμ–΄λ„ μ…Έ λ³€μλ” μν–¥μ„ λ°›μ§€ μ•λ”λ‹¤λ” μ μ„ λ³΄μ—¬μ¤λ‹λ‹¤.
```

**8) IP μ£Όμ†λ΅ μ§μ ‘ μ—°κ²° μ„±κ³µ ν™•μΈ**

```bash
ping -c 5 $GOOGLE_IP
```

```tech
ping,bash,rocky
```

```desc
#### ν•‘ ν…μ¤νΈ (IP μ§μ ‘ μ‚¬μ©)
`ping -c 5 $GOOGLE_IP`λ” λ„λ©”μΈ μ΄λ¦„ λ€μ‹  μ €μ¥ν•΄λ‘” IP μ£Όμ†λ΅ μ§μ ‘ ν†µμ‹ μ„ μ‹λ„ν•©λ‹λ‹¤. DNS μ΅°νκ°€ ν•„μ” μ—†μΌλ―€λ΅ μ •μƒμ μΌλ΅ `ping`μ΄ μ„±κ³µν•λ” κ²ƒμ„ λ³Ό μ μμµλ‹λ‹¤.

- **-c 5**: 5λ²λ§ pingμ„ λ³΄λƒ…λ‹λ‹¤.

> π’΅ λ„λ©”μΈ μ΄λ¦„μΌλ΅λ” μ‹¤ν¨ν•μ§€λ§ IP μ£Όμ†λ΅λ” μ„±κ³µν•λ‹¤λ©΄, λ¬Έμ λ” κ±°μ ν™•μ‹¤ν DNSμ— μμµλ‹λ‹¤. λ„¤νΈμ›ν¬ μμ²΄μ λ¬Έμ λ” μ•„λ‹μ„ μ¦λ…ν•©λ‹λ‹¤.
```

**9) νΉμ • DNS μ„λ²„(8.8.8.8)λ΅ μ§μ ‘ μ§μ**

```bash
nslookup google.com 8.8.8.8
```

```tech
nslookup,bash,rocky
```

```desc
#### π― νΉμ • DNS μ„λ²„λ΅ μ§μ ‘ μ΅°ν
`nslookup google.com 8.8.8.8`μ€ μ‹μ¤ν…μ `/etc/resolv.conf` μ„¤μ •μ„ λ¬΄μ‹ν•κ³ , μ§€μ •λ DNS μ„λ²„(Google Public DNS `8.8.8.8`)μ—κ² μ§μ ‘ `google.com`μ IP μ£Όμ†λ¥Ό λ¬Όμ–΄λ΄…λ‹λ‹¤.

- **μ •μƒ μ‘λ‹µ**: μ‹μ¤ν… DNS μ„¤μ •μ΄ λ§κ°€μ΅λ”λΌλ„, μ™Έλ¶€ DNS μ„λ²„κ°€ μ •μƒμ΄λΌλ©΄ IP μ£Όμ†λ¥Ό μ μ•λ ¤μ¤λ‹λ‹¤.

> π’΅ μ‹μ¤ν… μ„¤μ • λ¬Έμ μΈμ§€, μ•„λ‹λ©΄ λ„¤νΈμ›ν¬ μ „μ²΄μ DNS λ¬Έμ μΈμ§€ λ²”μ„λ¥Ό μΆν λ• μ μ©ν• λ°©λ²•μ…λ‹λ‹¤.
```

**10) DNS μ„¤μ • λ³µκµ¬**

```bash
sudo bash -c "echo nameserver 8.8.8.8 > /etc/resolv.conf"
```

```tech
sudo,bash,echo,bash,rocky
```

```desc
#### π”§ DNS μ„¤μ • λ³µκµ¬
`sudo bash -c "echo nameserver 8.8.8.8 > /etc/resolv.conf"` λ…λ Ήμ–΄λ΅ `/etc/resolv.conf` νμΌμ— Google DNS μ„λ²„(`8.8.8.8`)λ¥Ό λ‹¤μ‹ μ„¤μ •ν•μ—¬ λ§κ°€μ§„ DNS μ„¤μ •μ„ λ³µκµ¬ν•©λ‹λ‹¤.

- **nameserver 8.8.8.8**: μ΄ μ‹μ¤ν…μ΄ μ‚¬μ©ν•  DNS μ„λ²„λ¥Ό μ§€μ •ν•©λ‹λ‹¤.

> π’΅ μ„μ‹λ΅ λλ” μκµ¬μ μΌλ΅ DNS μ„λ²„λ¥Ό μλ™ μ„¤μ •ν•  λ• μ‚¬μ©ν•λ” λ°©λ²•μ…λ‹λ‹¤.
```

**11) λ³µκµ¬ ν›„ HTTP μ—°κ²° ν™•μΈ**

```bash
curl -I www.google.com
```

```tech
curl,bash,rocky
```

```desc
#### π‰ μµμΆ… μ—°κ²° ν™•μΈ
DNS μ„¤μ •μ΄ λ³µκµ¬λ ν›„, λ‹¤μ‹ `curl -I www.google.com`μ„ μ‹¤ν–‰ν•λ©΄ μ •μƒμ μΌλ΅ μ—°κ²°μ΄ μ„±κ³µν•λ” κ²ƒμ„ ν™•μΈν•  μ μμµλ‹λ‹¤.

- **λ¬Έμ  ν•΄κ²°**: DNS μ„¤μ •μ΄ μ¬λ°”λ¥΄κ² λ³µμ›λμ–΄ λ„λ©”μΈ μ΄λ¦„ ν•΄μ„μ΄ κ°€λ¥ν•΄μ΅μµλ‹λ‹¤.

> π’΅ λ¬Έμ λ¥Ό ν•΄κ²°ν• ν›„μ—λ” λ°λ“μ‹ μ›λ ν•λ ¤λ μ‘μ—…μ΄ μ •μƒμ μΌλ΅ λ™μ‘ν•λ”μ§€ μ¬ν™•μΈν•λ” κ²ƒμ΄ μ¤‘μ”ν•©λ‹λ‹¤.
```

**12) μ‹¤μµ μΆ…λ£**

```bash
: quit
```

```tech
bash,rocky
```

```desc
#### π‘‹ μ‹¤μµ μΆ…λ£
μ‹¤μµμ„ μΆ…λ£λ¥Ό μλ―Έν•λ” `quit` λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•©λ‹λ‹¤.
ν„μ¬ ν„°λ―Έλ„ μ„Έμ…μ„ μΆ…λ£ν•©λ‹λ‹¤.

> π’΅ λ¨λ“  μ‹¤μµμ„ λ§μΉ ν›„ μ‚¬μ©ν•©λ‹λ‹¤.
```