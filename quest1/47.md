##### 파일 압축,해제하기 gzip/gunzip#####

**1) 단일파일 압축전용 gzip 명령어 확인**

```bash
whatis gzip
```

```tech
gzip
```

```desc
#### 📖 `gzip` 명령어 정보 확인
`whatis` 명령을 사용해 `gzip` 명령어의 간단한 설명을 확인합니다.

- **`whatis`** : 명령어의 간략한 설명 제공
- **`gzip`** : 파일을 압축하는 명령어

> 💡 `gzip`은 파일을 압축하고 원본 파일을 삭제한 뒤 `.gz` 확장자를 붙입니다.
```

**2) .gz 파일 압축해제 gunzip 명령어 확인**

```bash
whatis gunzip
```

```tech
gunzip
```

```desc
#### 📖 `gunzip` 명령어 정보 확인
`whatis` 명령을 사용해 `gunzip` 명령어의 간단한 설명을 확인합니다.

- **`whatis`** : 명령어의 간략한 설명 제공
- **`gunzip`** : `.gz`로 압축된 파일의 압축을 해제하는 명령어

> 💡 `gunzip`은 `gzip -d`와 동일한 기능을 수행합니다.
```

**3) 시스템 저널을 텍스트 파일로 덤프(생성)**

```bash
journalctl -b --no-pager -o short-iso -n 200000 > ~/system-journal.log
```

```tech
journalctl
```

```desc
#### 🧾 저널 로그 덤프 생성
시스템 저널을 텍스트로 덤프해 연습용 파일을 만듭니다.

- **`journalctl -b`** : 현재 부팅의 로그만 덤프
- **`--no-pager`** : 페이저 없이 출력
- **`-o short-iso`** : ISO 형식의 간결한 타임스탬프
- **`-n 200000`** : 최근 20만 줄 제한(원하는 만큼 조정 가능)

> ⚠️ 권한 문제 시 `journalctl --user ...` 또는 `sudo journalctl ...`을 사용하세요.
```

**4) 생성된 파일 크기 확인**

```bash
ls -sh ~/system-journal.log
```

```tech
ls
```

```desc
#### 🔍 압축 전 파일 크기 확인
`ls -sh` 명령어로 생성된 로그 파일의 크기를 확인합니다.

- **`-s`** : 파일 크기(size)를 함께 표시
- **`-h`** : 사람이 읽기 쉬운 단위(human-readable)로 크기 표시 (e.g., K, M, G)
```

**5) 생성한 로그 파일 gzip으로 압축하기**

```bash
gzip ~/system-journal.log
```

```tech
gzip
```

```desc
#### 📦 파일 압축하기
`gzip` 명령어를 사용하여 `~/system-journal.log` 파일을 압축합니다.

- 압축이 완료되면 원본 `system-journal.log`는 사라지고 `system-journal.log.gz` 파일이 생성됩니다.

> ⚠️ `gzip`은 기본적으로 원본 파일을 유지하지 않습니다.
```

**6) 압축한 후(After) system-journal.log.gz 파일 크기 확인**

```bash
ls -sh ~/system-journal.log.gz
```

```tech
ls
```

```desc
#### 📊 압축 후 파일 크기 확인
압축된 `system-journal.log.gz` 파일의 크기를 확인하여 원본과 비교합니다.

- **`ls -sh`** : 파일 크기를 사람이 읽기 쉬운 형태로 출력
- 텍스트 로그는 일반적으로 압축 효율이 높습니다.
```

**7) 압축 후 원본 파일 유지 여부 확인**

```bash
ls ~/system-journal.log
```

```no-err-check
```

```tech
ls
```

```desc
#### ❓ 원본 파일 유지 여부 확인
`ls` 명령어로 원본 파일(`system-journal.log`)이 남아있는지 확인합니다.

- 기본 동작상 압축 후 원본은 삭제되므로 "No such file or directory"가 출력됩니다.
```

**8) 원본을 유지하면서 별도의 .gz 파일 만들기 (원본 재생성)**

```bash
journalctl -b --no-pager -o short-iso -n 200000 > ~/system-journal.log
```

```tech
journalctl
```

```desc
#### 🔁 원본 로그 재생성
원본 파일이 삭제되었으므로 다시 생성합니다.
```

**9) 원본을 유지하며 별도 .gz 생성**

```bash
gzip -c ~/system-journal.log > ~/system-journal.log.gz
```

```tech
gzip
```

```desc
#### 📑 원본을 유지하며 압축하기
`-c` 옵션과 리다이렉션(`>`)을 사용하면 원본을 유지한 채 새로운 압축 파일을 생성할 수 있습니다.

- **`gzip -c`** : 압축 결과를 표준 출력(stdout)으로 보냄
- **`>`** : 표준 출력을 `system-journal.log.gz`로 저장

> 💡 이 방법을 사용하면 `system-journal.log`와 `system-journal.log.gz`가 함께 존재합니다.
```

**10) 생성된 .gz 파일 크기 확인**

```bash
ls -sh ~/system-journal.log.gz
```

```tech
ls
```

```desc
#### ✅ 생성된 압축 파일 크기 확인
홈 디렉터리에 생성된 `system-journal.log.gz` 파일의 크기를 확인합니다.

- **`ls -sh`** : 파일 크기를 읽기 쉽게 출력
```

**11) gz 파일 압축 해제하기**

```bash
gunzip -f ~/system-journal.log.gz
```

```tech
gunzip
```

```desc
#### 🔓 압축 해제하기(프롬프트 없이 덮어쓰기)
`gunzip -f` 옵션을 사용해 기존 `system-journal.log`가 있어도 확인 없이 덮어씁니다.

- **`-f, --force`** : 출력 파일이 이미 존재해도 프롬프트 없이 덮어쓰기
- 압축 해제 후 `system-journal.log.gz`는 기본적으로 삭제되고 `system-journal.log`만 남습니다.

> 💡 압축본(.gz)을 남기려면 `gunzip -kf file.gz`,  
>    덮어쓰지 않고 표준출력으로 풀려면 `gunzip -c file.gz > file`을 사용하세요.
```

**12) 압축 해제된 파일 확인**

```bash
ls ~/system-journal.log
```

```tech
ls
```

```desc
#### 👀 압축 해제된 파일 확인
`ls` 명령어로 `system-journal.log`가 존재하는지 확인합니다.

- `system-journal.log.gz`는 사라지고 `system-journal.log`가 목록에 나타나면 성공입니다.

> 💡 `gzip`/`gunzip`은 단일 파일을 빠르게 압축/해제하는 가장 간단한 도구입니다.
```

**13) 실습 종료**

```bash
: quit
```

```tech
bash,rocky
```

```desc
#### 👋 실습 종료
실습을 종료를 의미하는 `quit` 명령어를 실행합니다.
현재 터미널 세션을 종료합니다.

> 💡 모든 실습을 마친 후 사용합니다.
```