##### Nginx, httpd 포트 충돌은 어떻게 해결하나요? #####

**1) 프론트엔드 웹서버로 사용 할 nginx를 설치합니다.**
```bash
sudo dnf install nginx -y
```
```tech
dnf
```

**2) nginx 웹서버로 실행 할 index.html 파일을 생성합니다.**
```bash
echo "Hello, Nginx!" | sudo tee /usr/share/nginx/html/index.html
```
```tech
dnf
```

**3) nginx 웹서버를 실행합니다.**
```bash
sudo systemctl start nginx
```

**4) nginx 웹서버의 작동상태를 확인합니다.**
```bash
sudo systemctl status nginx
```

**5) nginx 웹서버가 정상적으로 응답하는지 확인합니다.**
```bash
curl http://localhost
```

**6) 백엔드 웹서버로 사용할 httpd를 설치합니다.**
```bash
sudo dnf install httpd -y
```
```tech
dnf
```

**7) index.php 파일이 들어갈 디렉토리를 생성합니다.**
```bash
sudo mkdir -p /var/www/html
```
```tech
dnf
```

**8) httpd웹서버로 실행 할 index.php 파일을 생성합니다.**
```bash
echo '<?php echo "Hello from httpd (PHP)!"; ?>' | sudo tee /var/www/html/index.php
```
```tech
dnf
```
**9) httpd 서비스를 실행합니다.**
```bash
sudo systemctl start httpd
```

**10) 로그 점검을 통해 어느 부분에서 오류가 발생한 것인지 점검합니다. (q: 종료)**
```bash
sudo journalctl -xeu httpd.service
```

**11) netstat명령어 사용을 위한 패키지를 설치합니다.**
```bash
sudo dnf install net-tools -y
```
```tech
dnf
```

**12) 80번 포트를 점유하고 있는 프로세스를 확인합니다.**
```bash
sudo netstat -tulpn | grep ':80'
```

**13) 80번 포트를 점유하고 있는 프로세스의 pid를 변수에 저장합니다.**
```bash
pid=$(sudo netstat -tulpn | grep ':80' | awk '{print $7}' | cut -d'/' -f1)
```

**14) pid를 통해 프로세스를 확인합니다.**
```bash
ps -ef | grep "$pid"
```

**15) nginx 웹서버를 종료시킵니다.**
```bash
sudo systemctl stop nginx
```

**16) 80번 포트를 다시 확인합니다**
```bash
sudo netstat -tulpn | grep ':80'
```

**17) httpd 웹서버를 다시 시작합니다.**
```bash
sudo systemctl start httpd
```

**18) httpd 웹서버 작동상태를 확인합니다**
```bash
sudo systemctl status httpd
```

**19) httpd 웹서버가 정상적으로 응답하는지 확인합니다.**
```bash
curl http://localhost/index.php
```
