##### 도커 컨테이너 볼륨 연결하려면 어떻게 하나요? #####

**1) 호스트에 볼륨으로 사용할 디렉토리 생성**

* 컨테이너와 연결할 디렉토리를 호스트(현재 사용 중인 PC)에 생성합니다.

```bash
mkdir -p ~/my-volume
```

```tech
mkdir
```
```desc
#### 📂 호스트에 볼륨용 디렉토리 생성하기
컨테이너와 데이터를 공유하기 위해 호스트(내 PC)에 디렉토리를 미리 생성합니다.
- **`mkdir -p`**: 필요한 경우 상위 디렉토리까지 함께 생성하면서 디렉토리를 만드는 명령어
- **`~/my-volume`**: 홈 디렉토리 아래에 'my-volume'이라는 이름의 디렉토리를 생성
> 💡 이 디렉토리는 컨테이너가 삭제되어도 데이터가 그대로 남아있을 영구 저장소 역할을 합니다.
```

**2) 호스트 디렉토리와 컨테이너 디렉토리 볼륨 연결**

* `-v [호스트 디렉토리]:[컨테이너 디렉토리]` 형식으로 볼륨을 연결합니다.
* `--name` 옵션으로 컨테이너에 my-volume-test 이름을 지정합니다.
* 아래 예시는 방금 생성한 ~/my-volume 디렉토리를 컨테이너 내부의 /data 디렉토리와 연결합니다.

```bash
docker run -d --name my-volume-test -v ~/my-volume:/data alpine:latest tail -f /dev/null
```

```tech
docker run
```
```desc
#### 🔗 호스트와 컨테이너 볼륨 연결하기
`-v` 옵션을 사용하여 호스트의 디렉토리와 컨테이너 내부의 디렉토리를 연결(마운트)합니다.
- **`docker run -d`**: 컨테이너를 백그라운드에서 실행
- **`--name my-volume-test`**: 컨테이너 이름을 'my-volume-test'로 지정
- **`-v ~/my-volume:/data`**: 호스트의 `~/my-volume`을 컨테이너의 `/data`에 연결
- **`tail -f /dev/null`**: 컨테이너가 바로 종료되지 않도록 유지하는 역할
> 💡 이제 호스트의 `~/my-volume`에 파일을 만들면 컨테이너의 `/data` 디렉토리 안에서도 보이고, 그 반대도 마찬가지입니다.
```

**3) 볼륨 연결 확인**

* `docker inspect` 명령어로 컨테이너의 상세 정보 중 "Mounts" 부분을 통해 볼륨 연결 정보를 확인할 수 있습니다.

```bash
docker inspect my-volume-test | grep -A 5 Mounts
```

```tech
docker inspect
```
```desc
#### 🔍 볼륨 연결 상태 확인하기
`docker inspect` 명령어로 컨테이너의 상세 설정 정보를 확인하여 볼륨이 잘 연결되었는지 검증합니다.
- **`docker inspect`**: 컨테이너의 모든 상세 정보를 JSON 형식으로 출력
- **`my-volume-test`**: 확인할 컨테이너의 이름
- **`| grep -A 5 Mounts`**: 출력된 정보 중에서 'Mounts'라는 단어와 그 아래 5줄을 필터링하여 보여줌
> 💡 출력된 정보의 "Source"(출발지)와 "Destination"(목적지) 경로가 내가 설정한 값과 일치하는지 확인하면 됩니다.
```
