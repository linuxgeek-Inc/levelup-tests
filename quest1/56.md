##### 특정 그룹만 파일에 접근하도록 하려면?#####

**1) 실습에 사용할 'developers' 그룹을 생성합니다.**
```bash
sudo groupadd developers
```
```tech
groupadd
```

```desc
#### 👨‍👩‍👧‍👦 새로운 그룹 생성하기
`groupadd` 명령어로 `developers`라는 새 그룹을 시스템에 추가합니다.

- **`sudo`**: 그룹 추가는 관리자 권한이 필요합니다.
- **`groupadd`**: 새로운 그룹을 생성하는 명령어
- **`developers`**: 생성할 그룹의 이름

> 💡 여러 사용자를 묶어 권한을 관리하기 위한 첫 단계입니다.
```

**2) 'developers' 그룹에 속한 'dev1' 사용자를 생성합니다.**
```bash
sudo useradd -G developers dev1
```
```tech
useradd
```

```desc
#### 👤 그룹에 속한 사용자 생성하기
`useradd`로 `dev1` 사용자를 생성하면서 `-G` 옵션으로 `developers` 그룹에 소속시킵니다.

- **`useradd`**: 새 사용자 생성
- **`-G developers`**: `developers` 그룹에 추가(보조 그룹)
- **`dev1`**: 생성할 사용자 이름

> 💡 사용자를 만들 때부터 특정 그룹에 포함시켜 권한 관리를 용이하게 할 수 있습니다.
```

**3) 'developers' 그룹에 속한 'dev2' 사용자를 생성합니다.**
```bash
sudo useradd -G developers dev2
```
```tech
useradd
```

```desc
#### 👤 두 번째 개발자 사용자 생성하기
`developers` 그룹에 속할 두 번째 사용자인 `dev2`를 동일한 방식으로 생성합니다.

- **`useradd -G developers dev2`**: `dev2` 사용자를 생성하여 `developers` 그룹에 추가

> 💡 같은 그룹에 속한 사용자들끼리 파일 접근 권한을 어떻게 공유하는지 보기 위함입니다.
```

**4) 비교를 위한 'otheruser' 사용자를 생성합니다.**
```bash
sudo useradd otheruser
```
```tech
useradd
```

```desc
#### 🤷‍♂️ 그룹에 속하지 않은 사용자 생성하기
그룹 권한 테스트를 위해 `developers` 그룹에 속하지 않은 `otheruser`를 생성합니다.

- **`useradd otheruser`**: `otheruser` 사용자 생성

> 💡 이 사용자는 그룹 권한의 영향을 받지 않으므로 접근이 거부될 것을 예상할 수 있습니다.
```

**5) 'dev1' 사용자로 프로젝트 파일을 생성합니다.**
```bash
sudo -u dev1 touch /tmp/project.log
```
```tech
sudo,touch
```

```desc
#### 📝 특정 사용자로 파일 생성하기
`sudo -u` 옵션을 사용해 `dev1` 사용자의 권한으로 빈 로그 파일을 생성합니다.

- **`sudo -u dev1`**: `dev1` 사용자로 뒤따르는 명령을 실행
- **`touch /tmp/project.log`**: `/tmp` 디렉터리에 빈 파일 생성

> 💡 이렇게 하면 파일의 기본 소유자가 `dev1`이 됩니다.
```

**6) 생성된 파일의 정보를 확인합니다.**
```bash
sudo -u dev1 ls -l /tmp/project.log
```
```tech
sudo,ls
```

```desc
#### 👀 파일 정보 확인하기
`ls -l`로 생성된 파일의 소유자와 권한을 확인합니다.

- **`ls -l`**: 파일의 상세 정보 출력
- 소유자가 `dev1`, 소유 그룹도 `dev1`으로 되어 있을 것입니다.

> 💡 파일은 기본적으로 생성한 사용자의 개인 그룹을 소유 그룹으로 가집니다.
```

**7) 파일의 소유 그룹을 'developers'로 변경합니다.**
```bash
sudo chgrp developers /tmp/project.log
```
```tech
chgrp
```

```desc
#### 👨‍👩‍👧‍👦 파일의 소유 그룹 변경하기
`chgrp` 명령어로 `project.log` 파일의 소유 그룹을 `developers`로 변경합니다.

- **`chgrp developers`**: 소유 그룹을 `developers`로 변경
- **`/tmp/project.log`**: 대상 파일

> 💡 이제 이 파일에 대한 그룹 권한은 `developers` 그룹에 속한 사용자들에게 적용됩니다
```

**8) 변경된 파일의 정보를 확인합니다.**
```bash
ls -l /tmp/project.log
```
```tech
ls
```

```desc
#### ✅ 변경된 그룹 확인하기
`ls -l`로 파일의 소유 그룹이 `developers`로 잘 변경되었는지 확인합니다.

- **`ls -l`**: 파일 상세 정보 출력
- 네 번째 필드가 `developers`로 바뀌었는지 확인합니다.

> 💡 이제 권한 설정의 준비가 완료되었습니다.
```

**9) 다른 사용자(others)의 읽기/쓰기/실행 권한을 제거합니다.**
```bash
sudo chmod o-rwx /tmp/project.log
```
```tech
chmod
```

```desc
#### 🔒 외부 사용자 권한 제거하기
`chmod`를 이용해 소유자나 그룹에 속하지 않은 다른 모든 사용자(others)의 권한을 제거합니다.

- **`chmod`**: 파일/디렉터리의 권한을 변경
- **`o-rwx`**: 다른 사용자(o)에게서 읽기(r), 쓰기(w), 실행(x) 권한을 뺀다(-)
- **`/tmp/project.log`**: 대상 파일

> 💡 이렇게 하면 오직 소유자와 `developers` 그룹 멤버만 파일에 접근할 수 있습니다.
```

**10) 변경된 파일의 권한을 확인합니다.**
```bash
ls -l /tmp/project.log
```
```tech
ls
```

```desc
#### 🔐 권한 변경 최종 확인
`ls -l`로 권한이 `rwxrw----`와 같이 변경되었는지 확인합니다. 마지막 3자리가 `---`가 되어야 합니다.

- **`ls -l`**: 파일 상세 정보 출력
- 권한 부분의 마지막 3개 문자를 확인하세요.

> 💡 이제 `developers` 그룹에 속하지 않은 사용자는 이 파일에 아무 작업도 할 수 없습니다.
```

**11) 'dev2' 사용자로 파일에 내용을 쓸 수 있는지 확인합니다.**
```bash
sudo -u dev2 bash -c 'echo "dev2 log" >> /tmp/project.log'
```
```tech
sudo,bash,echo
```

```desc
#### ✍️ 그룹 멤버가 파일에 쓰기 테스트
`developers` 그룹의 다른 멤버인 `dev2`가 파일에 내용을 추가할 수 있는지 테스트합니다.

- **`sudo -u dev2`**: `dev2` 사용자로 실행
- **`bash -c '...'`**: 따옴표 안의 명령을 실행
- **`echo ... >> ...`**: 파일 끝에 내용 추가

> 💡 `dev2`는 `developers` 그룹에 속해 있으므로 쓰기 권한이 있어 이 명령은 성공해야 합니다.
```

**12) 파일의 내용을 확인합니다.**
```bash
sudo -u dev1 cat /tmp/project.log
```
```tech
sudo,cat
```

```desc
#### 📖 파일 내용 확인하기
`cat` 명령어로 `dev2`가 추가한 내용이 잘 저장되었는지 확인합니다.

- **`cat`**: 파일 내용을 출력
- "dev2 log"라는 내용이 보이면 성공입니다.

> 💡 그룹 권한이 올바르게 작동하고 있음을 보여줍니다.
```

**13) 'otheruser' 사용자로 파일 접근을 시도합니다.**
```bash
sudo -u otheruser cat /tmp/project.log
```
```fail-pass
```
```tech
sudo,cat
```

```desc
#### 🚫 외부 사용자의 접근 시도
그룹에 속하지 않은 `otheruser`가 파일을 읽으려고 시도합니다.

- **`sudo -u otheruser`**: `otheruser`로 실행
- **`cat`**: 파일 읽기 시도

> 💡 이 명령은 "Permission denied" 오류를 발생시켜야 합니다. 그룹 권한 설정이 성공적으로 외부 접근을 차단했음을 의미합니다.
```

**14) 실습 후 'dev1' 사용자를 삭제합니다.**
```bash
sudo userdel dev1
```
```tech
userdel
```

```desc
#### 🗑️ 실습 사용자 삭제 (1)
`userdel` 명령어로 실습에 사용했던 `dev1` 사용자를 삭제합니다.

- **`userdel`**: 사용자 삭제

> 💡 실습 후에는 불필요한 사용자 계정을 정리합니다.
```

**15) 실습 후 'dev2' 사용자를 삭제합니다.**
```bash
sudo userdel dev2
```
```tech
userdel
```

```desc
#### 🗑️ 실습 사용자 삭제 (2)
`dev2` 사용자도 삭제합니다.

- **`userdel`**: 사용자 삭제

> 💡 생성했던 모든 테스트 계정을 제거합니다.
```

**16) 실습 후 'otheruser' 사용자를 삭제합니다.**
```bash
sudo userdel otheruser
```
```tech
userdel
```

```desc
#### 🗑️ 실습 사용자 삭제 (3)
`otheruser`도 삭제하여 실습 환경을 깨끗하게 정리합니다.

- **`userdel`**: 사용자 삭제

> 💡 사용자를 삭제할 때 `-r` 옵션을 쓰면 홈 디렉터리까지 함께 삭제됩니다.
```

**17) 실습 후 'developers' 그룹을 삭제합니다.**
```bash
sudo groupdel developers
```
```tech
groupdel
```

```desc
#### 🗑️ 실습 그룹 삭제
`groupdel` 명령어로 실습에 사용했던 `developers` 그룹을 삭제합니다.

- **`groupdel`**: 그룹 삭제

> 💡 더 이상 사용하지 않는 그룹은 삭제하여 시스템을 깔끔하게 유지합니다.
```

**18) 실습 후 생성한 파일을 삭제합니다.**
```bash
sudo rm /tmp/project.log
```
```tech
rm
```

```desc
#### 🗑️ 실습 파일 삭제
`rm`으로 실습 중에 만들었던 로그 파일을 삭제합니다.

- **`rm`**: 파일 삭제

> 💡 `/tmp` 디렉터리는 시스템 재부팅 시 내용이 사라지지만, 실습 직후 정리하는 것이 좋은 습관입니다.
```
