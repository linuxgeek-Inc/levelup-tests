##### ssh 접속 시도 로그는 어디서 확인하나요?#####

**1) sshd 서비스 로그 전체 보기**

```bash
journalctl -u sshd
```

```tech
systemd,sshd,journalctl
```

```desc
#### 📜 sshd 서비스 로그 전체 보기
`sshd` (SSH 데몬) 서비스와 관련된 모든 로그를 확인합니다.

- **`journalctl`**: `systemd` 환경의 로그를 보는 명령어
- **`-u sshd`**: `--unit=sshd`의 약자로, `sshd` 유닛(서비스)의 로그를 지정

> 💡 SSH 접속 관련 문제를 해결하거나 접속 기록을 감사(audit)할 때 가장 기본적으로 사용하는 명령어입니다.
```

**2) 최근 sshd 로그 100줄만 확인하기**

```bash
journalctl -u sshd -n 100
```

```tech
systemd,sshd,journalctl
```

```desc
#### 📄 sshd 로그 최신 100줄 보기
`sshd` 서비스 로그 중에서 가장 최근에 발생한 100줄만 봅니다.

- **`-n 100`**: `--lines=100`의 약자로, 마지막 100줄을 의미
- 전체 로그를 볼 필요 없이 최근 상황만 빠르게 확인할 때 유용합니다.

> 💡 `tail -n 100` 명령어와 유사한 기능이지만, `journalctl`의 다른 필터와 함께 사용할 수 있어 편리합니다.
```

**3) sshd 로그를 실시간으로 모니터링하기**

```bash
timeout 10 journalctl -u sshd -f
```

```tech
systemd,sshd,journalctl
```

```desc
#### 📡 sshd 로그 실시간으로 보기
새롭게 발생하는 `sshd` 관련 로그를 실시간으로 화면에 출력합니다.

- **`-f`**: `--follow`의 약자로, 실시간 모니터링을 의미
- (예제에서는 `timeout`을 사용하여 10초 후 자동 종료)

> 💡 다른 터미널에서 SSH 접속을 시도하면서 이 명령어를 실행하면, 접속 과정에서 발생하는 로그를 즉시 확인할 수 있습니다.
```

**4) 오늘 발생한 ssh 접속 시도 로그만 보기**

```bash
journalctl -u sshd --since today
```

```tech
systemd,sshd,journalctl
```

```desc
#### ⏰ 오늘 발생한 sshd 로그 보기
오늘 0시부터 현재까지 발생한 `sshd` 로그만 필터링하여 봅니다.

- **`--since today`**: 오늘 날짜를 기준으로 로그를 필터링
- `"YYYY-MM-DD"` 형식이나 `"1 hour ago"` 같은 표현도 가능합니다.

> 💡 특정 기간 동안의 접속 기록을 확인할 때 매우 유용합니다.
```

**5) ssh 로그인 실패 시도만 필터링 (journal 내에서)**

```bash
journalctl -u sshd | grep "Failed password"
```

```tech
systemd,sshd,journalctl,grep
```

```desc
#### ❌ ssh 로그인 실패 로그 필터링
`sshd` 로그 중에서 비밀번호 입력 실패로 인해 로그인이 거부된 기록만 찾아냅니다.

- **`| grep "Failed password"`**: `journalctl`의 출력 결과에서 "Failed password" 문자열이 포함된 줄만 필터링

> 💡 비정상적인 외부 침입 시도를 감지할 때 이 로그를 주기적으로 확인하는 것이 중요합니다.
```

**6) ssh 로그인 성공 로그만 필터링**

```bash
journalctl -u sshd | grep "Accepted password"
```

```tech
systemd,sshd,journalctl,grep
```

```desc
#### ✅ ssh 로그인 성공 로그 필터링
`sshd` 로그 중에서 정상적으로 로그인에 성공한 기록만 찾아냅니다.

- **`| grep "Accepted password"`**: "Accepted password" 문자열이 포함된 줄만 필터링

> 💡 어떤 사용자가 언제, 어디서 접속했는지 접속 성공 기록을 확인할 때 사용합니다.
```