##### 매주 월요일 9시에 시스템 부하상태를 기록하기 #####

**1) 매주 월요일 오전 9시에 uptime 명령어 결과를 load.log에 기록하는 작업을 파일로 작성**

```bash
echo '0 9 * * 1 uptime >> /tmp/load.log' > ~/cron_uptime
```

```tech
bash
```

```desc
#### 📝 예약 작업 내용 파일로 준비하기
`crontab`에 추가할 새로운 예약 작업(매주 월요일 오전 9시에 `uptime` 실행)을 임시 파일에 먼저 작성합니다.

- **`echo '...'`**: 따옴표 안의 문자열을 출력합니다.
- **`0 9 * * 1`**: `cron` 시간 설정. '매월 매일 9시 0분, 그리고 요일이 월요일일 때'를 의미합니다.
- **`uptime >> /tmp/load.log`**: `uptime` 명령어의 결과를 `/tmp/load.log` 파일에 덧붙입니다.
- **`> ~/cron_uptime`**: 출력된 문자열을 `cron_uptime` 파일에 저장합니다.

> 💡 복잡한 cron 작업을 추가할 때는 이렇게 파일로 먼저 만들어두면 관리하기 편합니다.
```

**2) 현재 cron 목록을 백업**

```bash
crontab -l 2>/dev/null > ~/current_cron
```

```tech
crontab
```

```desc
#### 💾 현재 crontab 내용 백업하기
기존에 설정된 `crontab` 작업을 잃어버리지 않도록 파일에 백업합니다.

- **`crontab -l`**: 현재 사용자의 `crontab`에 등록된 모든 작업을 출력합니다.
- **`2>/dev/null`**: `crontab`이 비어있을 때 발생하는 오류 메시지를 무시합니다.
- **`> ~/current_cron`**: 출력된 내용을 `current_cron` 파일에 저장합니다.

> 💡 기존 설정을 변경하기 전에는 항상 백업하는 습관을 들이는 것이 안전합니다.
```

**3) 신규 작업을 기존 cron 목록에 추가**

```bash
cat ~/cron_uptime >> ~/current_cron
```

```tech
crontab
```

```desc
#### ➕ 백업 파일에 새 작업 추가하기
백업해둔 `crontab` 파일(`current_cron`) 끝에 새로 추가할 작업(`cron_uptime`)의 내용을 덧붙입니다.

- **`cat ~/cron_uptime`**: `cron_uptime` 파일의 내용을 읽어 출력합니다.
- **`>> ~/current_cron`**: 출력된 내용을 `current_cron` 파일 끝에 추가합니다.

> 💡 이로써 `current_cron` 파일은 기존 작업과 신규 작업을 모두 포함하게 됩니다.
```

**4) 전체 cron 재등록**

```bash
crontab ~/current_cron
```

```tech
crontab
```

```desc
#### 🔄 새로운 내용으로 crontab 재등록
기존 작업과 새 작업이 모두 포함된 파일을 `crontab`에 다시 등록하여 설정을 업데이트합니다.

- **`crontab ~/current_cron`**: `current_cron` 파일의 내용으로 사용자의 `crontab`을 덮어씁니다.

> 💡 `crontab` 명령어에 파일 이름을 인자로 주면 그 파일의 내용으로 전체 `crontab`이 교체됩니다.
```

**5) 임시 파일 삭제**

```bash
rm ~/cron_uptime ~/current_cron
```

```tech
bash
```

```desc
#### 🗑 임시 파일 정리하기
`crontab` 등록에 사용되었던 임시 파일들을 삭제하여 깔끔하게 마무리합니다.

- **`rm`**: 파일을 삭제하는 명령어입니다.
- **`~/cron_uptime ~/current_cron`**: 삭제할 파일 목록입니다.

> 💡 작업이 완료된 후 중간 과정에서 생성된 파일들을 정리하면 홈 디렉토리를 깨끗하게 유지할 수 있습니다.
```
